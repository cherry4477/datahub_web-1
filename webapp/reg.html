<!DOCTYPE html>
<html lang="zh-CN">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="keywords" content="DataHub，批量数据，API数据，流式数据，数据流动，数据交易，运营商数据，空气质量数据，免费数据调用，数据版权保护，大数据，电商数据，物流数据，交通数据"/>
	<meta name="description" content="DataHub是国内首个P2P去中心化、P2P大数据流通平台，通过将DataHub协议开源，致力于与全社会一起共建一套数据流通协议，打造数据互联网，让数据流通在阳光下流通。">
	<title>注册Datahub账号_DataHub阳光下的数据流通平台 全国首个去中心化、P2P大数据流通平台_数据共享经济_ 开源协议_数据互联网_免费数据</title>

	<!--css-->
	<link rel="stylesheet" href="css/bootstrap.min.css">
	<link rel="stylesheet" href="css/command.css">
	<link rel="stylesheet" href="css/loader.css">
	<link rel="stylesheet" href="css/reg.css">
</head>
<style>
</style>
<body>
	<div class="be-loader" style="display: block;">
		<div class="spinner">
			<div class="spinner-container container1">
				<div class="circle1"></div>
				<div class="circle2"></div>
				<div class="circle3"></div>
				<div class="circle4"></div>
			</div>
			<div class="spinner-container container2">
				<div class="circle1"></div>
				<div class="circle2"></div>
				<div class="circle3"></div>
				<div class="circle4"></div>
			</div>
			<div class="spinner-container container3">
				<div class="circle1"></div>
				<div class="circle2"></div>
				<div class="circle3"></div>
				<div class="circle4"></div>
			</div>
		</div>
	</div>
	<!--头部导航-->
	<header></header>
	<!--内容-->
	<div class="container" style="margin-top:50px; margin-bottom:100px; width:740px;">
		<div class="infoBox">
			<div ID="title">
				<p>注册DataHub账号</p>
			</div>
			<div class="labelBox">
				<p id="label_one" style="display: none"><span class="span_icon"></span>邮箱格式不正确</p>
				<p id="label_two" style="display: none"><span class="span_icon"></span>密码格式不正确</p>
				<p id="label_three" style="display: none"><span class="span_icon"></span>两次密码输入不一致</p>
				<p id="label_four"><span class="span_icon"></span>您还没有接受《DataHub服务协议》</p>
			</div>
		<form class="form-inline">
  			<div class="input-group">
				<label for="exampleEmail">邮箱地址</label>
    			<input type="text" class="form-control" id="email" placeholder="请填写正确的邮箱，以便接收账号">
    			<label for="examplePs">输入密码</label>
   				<input type="password" class="form-control" id="ps" placeholder="最少8个字符">
   				<label for="examplePs2">确认密码</label>
   				<input type="password" class="form-control" ID="psr" placeholder="再次输入密码">
			</div>
		</form> 
				<div ID="accept">
   					<input ID="item" type="checkbox" name="accept"/>
					<span>我已阅读并接受《DataHub服务协议》</span>
				</div>
  			<button class="btn btn-primary btn-lg" ID="registration" role="button" HREF="javaScript:void(0);">
				注册
			</button>
			<div ID="login" style="float: left">
  				<p>已有DataHub账号？请<a href="/">登录</a></p>
  			</div>
		</div>
	</div>

	<!--check email to active account-->
	<div class="container" style="margin-top:50px; margin-bottom:100px; width:740px;">
		<div ID="checkEmail" style="display:none" >
			<div ID="successed">
				<p>注册DataHub账号</p>
			</div>
			<div ID="info">
				<p style="font:16px;">恭喜您，注册成功！请点击邮箱<a></a>中的链接完成账号激活！</p>
			</div>
		</div>
	</div>
	

	<div id="loginTem"></div>

	<script src="js/jquery.min.js"></script>
	<script src="js/bootstrap.min.js"></script>
	<script src="js/jquery.cookie.js"></script>
	<script src="js/login.js"></script>
	<script src="js/base64.js"></script>
	<script src="js/md5.js"></script>
	<script src='js/errorDialog.js'></script>
	<script src="js/jquery.pagination.js"></script>
	<script src='js/clipboard.min.js'></script>
	<script src="js/jquery.SuperSlide.2.1.1.js"></script>
	<script src='js/marked.js'></script>
	<script src="js/ngUrl.js"></script>
	<script>
		$("a").focus(function(){this.blur()});
		$("header").load("common/header.html");
		$("footer").load("common/footer.html");
		$("#loginTem").load("common/login.html");
		$(window).load(function(){
			$(".be-loader").fadeOut("slow");
		});
		
		function getParam(key) {
			var value='';
			var itemid = new RegExp("\\?.*"+key+"=([^&]*).*$");
			if (itemid.test(decodeURIComponent(window.location.href))) {
				value = itemid.exec(decodeURIComponent(window.location.href))[1];
			}
			return value;
		}
	</script>
	<script>
		$(document).ready(function(){
			var b=true;
			var reg = /^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;
			$("#email").blur(function(){
            	if (!reg.test($("#email").val())){
            		$("#label_one").css("display","block");
					$("#label_two").css("display","none");
					$("#label_three").css("display","none");
					$("#label_four").css("display","none");
					b=false;
				}
				else {
					$("#label_one").css("display","none");
				}
			});
			$("#ps").blur(function(){
            	if (($("#ps").val())==""){
            		$("#label_one").css("display","none");
					$("#label_two").css("display","block");
					$("#label_three").css("display","none");
					$("#label_four").css("display","none");
					b=false;
				} 
				else { 
					$("#label_two").css("display","none");	
				} 
				if(($("#ps").val()).length<8){
					$("#label_two").css("display","block");
					b=false;
				}
			});	
			$("#psr").blur(function(){
            	if ($("#psr").val()==""){
            		$("#label_one").css("display","none");
					$("#label_two").css("display","block");
					$("#label_three").css("display","none");
					$("#label_four").css("display","none");
					b=false;
				} 
				else { 
					$("#label_two").css("display","none");	
				} 
				if(($("#psr").val()).length<8){
					$("#label_two").css("display","block");
					b=false;
				}
			});

			//判断密码是否相同
			if (($("#ps").val())!=($("#psr").val())){
				$("#label_one").css("display","none");
				$("#label_two").css("display","none");
				$("#label_three").css("display","block");
				$("#label_four").css("display","none");
				b=false;
			}
		if(b){
			$("#registration").click(function(){
			//判断checkbox是否选中
				if ($("#item").prop("checked")==false){
					$("#label_one").css("display","none");
					$("#label_two").css("display","none");
					$("#label_three").css("display","none");
					alert("您还没有接受《DataHub服务协议》");
				}
					$(".infoBox").hide();
					$("#checkEmail").show();

				var loginname=$("#email").val();
				var	myps=$.md5($("#ps").val());
				$.ajax({
            		//loginname email and get the text after @
            		url: ngUrl+"/users/"+loginname,
            		type: "POST",
            		cache:false,
            		data:{"passwd":myps},
            		async:false,
            		dataType:'json',
            		success:function(json){
            			var ss=loginname;
            			var start=ss.indexOf("@")+1;
    					var end=start+ss.length;
    					var strtext="http://mail."+ss.substring(start,end);
				 		$("#info a").text(strtext).attr("href",strtext);

            		}
            	});
			});
		}
		});
	</script>

</body>